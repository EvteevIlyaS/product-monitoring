# Product-monitoring
### Сервис ***народного мониторинга цен на продукты питания***

---

#### Функционал:
- Регистрация пользователей
   - Выполнить процедуру регистрации пользователя - ``POST /api/v1/auth/register``
   - Выполнить процедуру авторизации пользователя - ``POST /api/v1/auth/login``
   - Добавить администратора - ``POST /api/v1/admin``


- Редактирование профиля
   - Изменить почту текущего пользователя - ``PUT /api/v1/user/email``
   - Изменить пароль текущего пользователя - ``PUT /api/v1/user/password``


- Справочник категорий товаров, справочник торговых точек
   - Показать справочник категорий товаров - ``GET /api/v1/user/categories``
   - Показать справочник торговых точек - ``GET /api/v1/user/stores``


- Просмотр списка товаров по категориям. Поиск и фильтрация
   - Просмотреть список товаров по категориям - ``GET /api/v1/user/products``
  

- Возможность добавления / редактирования / удаления товара
   - Добавить товар - ``POST /api/v1/admin/products``
   - Редактировать товар - ``PUT /api/v1/admin/products``
   - Удалить товар - ``DELETE /api/v1/admin/products/{id}``


- Возможность привязать цену к товару в уонкретном магазине на текущий момент
   - Привязать цену к товару в конкретном магазине на текущий момент - ``POST /api/v1/admin/store-product-prices``
   - Удалить цену к товару в конкретном магазине - ``DELETE /api/v1/admin/store-product-prices/{id}``


- Возможность отслеживать динамику цен на тот или иной продукт в заданном периоде
   - Отследить динамику цен на определенный товар в заданном периоде - ``GET /api/v1/user/store-product-prices/{product-id}``


- Сравнение цен по позициям в различных магазинах
   - Сравненить цены по позициям двух магазинов - ``GET /api/v1/user/store-product-prices/comparison/{product-id}``
   - Сравненить цены по позициям всех магазинов - ``GET /api/v1/user/store-product-prices/comparison-all/{product-id}``


- Возможность графического отображения динамики изменения цен
   - Отобразить динамику цен на продукт в одном магазине - ``GET /api/v1/user/store-product-prices/dynamics/{product-id}``
   - Отобразить динамику цен на продукт во всех магазинах - ``GET /api/v1/user/store-product-prices/dynamics-all/{product-id}``


- Возможность пакетного добавления информации о ценах и продуктах
   - Выгрузить информации о ценах в формате csv/xlsx - ``POST /api/v1/admin/store-product-prices/upload``
   - Выгрузить информации о продуктах в формате csv/xlsx - ``POST /api/v1/admin/products/upload``

---
#### Инструкция по упаковке и запуску:
1. Очистка target директории - ``mvn clean``
2. Запуск контейнера с БД - ``$ sudo docker compose up postgres``
3. Сборка приложения в готовый к использованию jar файл - ``mvn package``
4. Сбрка образа с приложением и запуск контейнеров - ``$ sudo docker compose up --build``

---
#### Стек технологий:
| Технология                                  | Предназначение                                            |
|---------------------------------------------|-----------------------------------------------------------|
| **Hibernate**, **Postgres**                 | работа с БД, СУБД                                         |
| **Maven**                                   | построение и управление проектом                          |
| **Spring Boot**                             | реализация IOC DI, авто-конфигурация, веб-сервер (tomcat) |
| **JUnit**, **Mockito**, **AssertJ**, **H2** | модульное и интеграционное тестирование                   |
| **Spring Security**                         | реализация развернутой системы пользователей и ролей      |
| **Spring Data**                             | работа с JPA                                              |
| **Liquibase**                               | скрипты инициализации и модификации БД                    |
| **Swagger**                                 | документация по проекту                                   |
| **Logback**                                 | логгирование (по умолчанию в Spring Boot)                 |
| **Docker**                                  | доставка и запуск приложения в контейнере, работа с БД    |

---
#### Схема БД:
![DBD.png](datamd%2FDBD.png)
